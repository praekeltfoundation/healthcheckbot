intents:
  - request_healthcheck
  - affirm
  - deny
  - maybe
  - inform

entities:
  - province
  - number

actions:
  - action_reset_all_but_few_slots
  - utter_ask_age
  - utter_ask_gender
  - utter_ask_province
  - utter_ask_location
  - utter_ask_location_confirm
  - utter_ask_medical_condition
  - utter_ask_medical_condition_obesity
  - utter_ask_medical_condition_diabetes
  - utter_ask_medical_condition_hypertension
  - utter_ask_medical_condition_cardio
  - utter_start_health_check
  - utter_ask_fever
  - utter_ask_cough
  - utter_ask_sore_throat
  - utter_ask_difficulty_breathing
  - utter_ask_taste_smell
  - utter_ask_exposure
  - utter_ask_tracing
  - utter_submit
  - utter_slots_values

slots:
  age:
    type: unfeaturized
    auto_fill: false
  gender:
    type: unfeaturized
    auto_fill: false
  province:
    type: unfeaturized
    auto_fill: false
  location:
    type: unfeaturized
    auto_fill: false
  location_confirm:
    type: unfeaturized
    auto_fill: false
  latitude:
    type: unfeaturized
    auto_fill: false
  longitude:
    type: unfeaturized
    auto_fill: false
  medical_condition:
    type: unfeaturized
    auto_fill: false
  medical_condition_obesity:
    type: unfeaturized
    auto_fill: false
  medical_condition_diabetes:
    type: unfeaturized
    auto_fill: false
  medical_condition_hypertension:
    type: unfeaturized
    auto_fill: false
  medical_condition_cardio:
    type: unfeaturized
    auto_fill: false
  fever:
    type: unfeaturized
    auto_fill: false
  cough:
    type: unfeaturized
    auto_fill: false
  sore_throat:
    type: unfeaturized
    auto_fill: false
  difficulty_breathing:
    type: unfeaturized
    auto_fill: false
  taste_smell:
    type: unfeaturized
    auto_fill: false
  exposure:
    type: unfeaturized
    auto_fill: false
  tracing:
    type: unfeaturized
    auto_fill: false
  requested_slot:
    type: unfeaturized

forms:
  - healthcheck_form
  - healthcheck_profile_form

responses:
  utter_ask_province:
      - text: |
          In which Province are you currently residing?

          Reply:
          *1.* EASTERN CAPE
          *2.* FREE STATE
          *3.* GAUTENG
          *4.* KWAZULU NATAL
          *5.* LIMPOPO
          *6.* MPUMALANGA
          *7.* NORTH WEST
          *8.* NORTHERN CAPE
          *9.* WESTERN CAPE

  utter_incorrect_selection:
    - text: |
        This service works best when you use the options provided in *BOLD*.
        üìåReply *MENU* to return to the main menu

  utter_incorrect_location:
    - text: |
        If you have typed your address incorrectly, please try again. If you are unable to provide your address, please TYPE the name of your Suburb, Township, Town or Village (or nearest)

  utter_ask_age:
    - text: |
        How old are you?

        Reply:
        *1.* <18
        *2.* 18-39
        *3.* 40-65
        *4.* >65

  utter_ask_gender:
    - text: |
        Please provide us with the gender you identify as:

        Reply:
        *1.* MALE
        *2.* FEMALE
        *3.* OTHER
        *4.* RATHER NOT SAY

  utter_ask_location:
    - text: |
        We need to collect your location.

        Please share your location üìç using WhatsApp by following these steps:
        - Tap the attach icon (+ or  üìé) on the bottom of WhatsApp.
        - Select location
        - This will bring up a map with a pin showing your current location. Tap *Send Your Current Location* if this is your address.
        - You can also choose from various other nearby locations if you think that the GPS is a bit off.


        Or TYPE the name of your Suburb, Township, Town or Village (or nearest)?

  utter_ask_location_confirm:
    - text: "We use Google Location Services to verify locations. Please confirm that the address below is correct based on the information you have shared:\n
            ----------------------------\n
            {location}\n
            ----------------------------\n
            Reply:\n
            *1.* YES\n
            *2.* NO"

  utter_ask_medical_condition:
    - text: |
        Do you have any other pre-existing medical conditions that we should be aware of?

        Reply:
        *1.* YES
        *2.* NO
        *3.* NOT SURE

  utter_ask_medical_condition_obesity:
    - text: |
        Has a doctor or other health professional diagnosed you with Obesity?

        Reply:
        *1.* YES
        *2.* NO

  utter_ask_medical_condition_diabetes:
    - text: |
        Has a doctor or other health professional diagnosed you with Diabetes?

        Reply:
        *1.* YES
        *2.* NO

  utter_ask_medical_condition_hypertension:
    - text: |
        Has a doctor or other health professional diagnosed you with Hypertension?

        Reply:
        *1.* YES
        *2.* NO

  utter_ask_medical_condition_cardio:
    - text: |
        Has a doctor or other health professional diagnosed you with Cardiovascular Disease?

        Reply:
        *1.* YES
        *2.* NO

  utter_start_health_check:
    - text: "Let's see how you are feeling today üíü"

  utter_ask_fever:
    - text: |
        ‚¨õ‚¨ú‚¨ú‚¨ú‚¨ú‚¨ú‚¨ú

        Do you feel very hot or cold? Are you sweating or shivering? When you touch your forehead, does it feel hot?

        Reply:
        *1.* YES
        *2.* NO

  utter_ask_cough:
    - text: |
        ‚¨õ‚¨õ‚¨ú‚¨ú‚¨ú‚¨ú‚¨ú

        Do you have a cough that recently started?

        Reply:
        *1.* YES
        *2.* NO

  utter_ask_sore_throat:
    - text: |
        ‚¨õ‚¨õ‚¨õ‚¨ú‚¨ú‚¨ú‚¨ú

        Do you have a sore throat or pain when swallowing?

        Reply:
        *1.* YES
        *2.* NO

  utter_ask_difficulty_breathing:
    - text: |
        ‚¨õ‚¨õ‚¨õ‚¨õ‚¨ú‚¨ú‚¨ú

        Do you have breathlessness or a difficulty breathing, that you‚Äôve noticed recently?

        Reply:
        *1.* YES
        *2.* NO

  utter_ask_taste_smell:
    - text: |
        ‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ‚¨ú‚¨ú

        Have you noticed any recent changes in your ability to taste or smell things?

        Reply:
        *1.* YES
        *2.* NO

  utter_ask_exposure:
    - text: |
        ‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ‚¨ú

        Have you been in close contact to someone confirmed to be infected with COVID19?

        Reply:
        *1.* YES
        *2.* NO
        *3.* NOT SURE

  utter_ask_tracing:
    - text: |
        ‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ

        Finally, please confirm that the information you shared is *accurate* to the best of your knowledge and that you give the National Department of Health permission to contact you if necessary?

        Reply:
        *1.* YES
        *2.* NO

  utter_submit:
    - text: "All done!"

  utter_slots_values:
    - text: "I am going to save your responses using the following parameters:\n
             - province: {province}\n
             - age: {age}\n
             - gender: {gender}\n
             - location: {location}\n
             - latitude: {latitude}\n
             - longitude: {longitude}\n
             - medical_condition: {medical_condition}\n
             - medical_condition_obesity: {medical_condition_obesity}\n
             - medical_condition_diabetes: {medical_condition_diabetes}\n
             - medical_condition_hypertension: {medical_condition_hypertension}\n
             - medical_condition_cardio: {medical_condition_cardio}\n
             - fever: {fever}\n
             - cough: {cough}\n
             - sore_throat: {sore_throat}\n
             - difficulty_breathing: {difficulty_breathing}\n
             - taste_smell: {taste_smell}\n
             - exposure: {exposure}\n
             - tracing: {tracing}"

session_config:
  session_expiration_time: 1
  carry_over_slots_to_new_session: true
